{"version":3,"file":"animation.bundle.js","sources":["../Core/animation.js","../Core/animation.js?commonjs-entry"],"sourcesContent":["// Wait for all scripts to fully load, especially GSAP\ndocument.addEventListener('DOMContentLoaded', () => {\n    // Wait a moment to ensure GSAP and AnimationDefinitions are fully loaded\n    setTimeout(() => {\n        // Get global GSAP references\n        const gsap = window.gsap;\n        const AnimationDefinitions = window.AnimationDefinitions;\n\n        // Check if GSAP is globally available\n        if (!gsap) {\n            console.error('GSAP is not loaded. Please include the GSAP library.');\n            return;\n        }\n\n        // Check if AnimationDefinitions is available\n        if (!AnimationDefinitions) {\n            console.error('AnimationDefinitions not loaded. Please ensure animation-definitions.js is loaded before this script.');\n            return;\n        }\n\n        // Get ScrollTrigger reference and register it if available\n        const ScrollTrigger = window.ScrollTrigger || gsap?.plugins?.ScrollTrigger || gsap.ScrollTrigger;\n\n        if (ScrollTrigger) {\n            // Make sure ScrollTrigger is registered\n            if (typeof gsap.registerPlugin === 'function') {\n                gsap.registerPlugin(ScrollTrigger);\n            }\n        }\n\n        /**\n         * GSAP Animation for content elements\n         */\n\n        // Create observer for animations\n        const createScrollTrigger = (element) => {\n            if (!gsap) return;\n\n            const animationType = element.getAttribute('data-gsap-anim');\n            const animationDuration = Number.parseFloat(element.getAttribute('data-gsap-duration') || 800); // Default duration from TYPO3 field\n            const delay = Number.parseFloat(element.getAttribute('data-gsap-delay') || 0);\n            const ease = element.getAttribute('data-gsap-easing') || 'power2.out';\n            const once = element.getAttribute('data-gsap-once') === 'true';\n\n            // Fetch animation definition\n            let animDef = AnimationDefinitions[animationType];\n\n            if (!animDef) {\n                console.warn(`Animation type \"${animationType}\" not found. Falling back to \"default\".`);\n                animDef = AnimationDefinitions['default'];\n            }\n\n            if (!animDef) {\n                console.error(`Default animation definition not found. Cannot apply GSAP animation to element:`, element);\n                // Fallback to a very basic fade-in if default is also missing\n                animDef = { from: { opacity: 0, y: 20 }, to: { opacity: 1, y: 0 } };\n            }\n\n            // Prepare GSAP variables using animDef.from\n            let gsapVars = {\n                ...animDef.from, // Spread the 'from' variables from shared definitions\n                duration: animationDuration / 1000, // Convert ms to s\n                ease: ease\n            };\n\n            // Add delay if present\n            if (delay > 0) {\n                gsapVars.delay = delay / 1000; // Convert ms to s\n            }\n\n            // Use ScrollTrigger if available, otherwise fall back to simple animation\n            if (ScrollTrigger) {\n                const scrollTriggerOptions = {\n                    trigger: element,\n                    start: 'top 80%',\n                    toggleActions: once ? 'play none none none' : 'play none play none',\n                    // Consider adding 'end' and 'scrub' for more advanced scenarios if needed later\n                };\n\n                gsap.from(element, {\n                    ...gsapVars,\n                    scrollTrigger: scrollTriggerOptions\n                });\n            } else {\n                // Fall back without ScrollTrigger (e.g. for elements visible in viewport on load)\n                gsap.from(element, gsapVars);\n            }\n        };\n\n        // Find all elements to animate and create animations\n        const initGSAPAnimations = () => {\n            if (!gsap) return;\n\n            const animatedElements = document.querySelectorAll('[data-gsap-anim]');\n\n            for (const element of animatedElements) {\n                createScrollTrigger(element);\n            }\n        };\n\n        // Initialization\n        initGSAPAnimations();\n\n    }, 100); // setTimeout delay\n});\n","import { getDefaultExportFromCjs } from \"\u0000commonjsHelpers.js\";\nimport { __require as requireAnimation } from \"/app/Resources/Public/JavaScript/Core/animation.js\";\nvar animationExports = requireAnimation();\nexport { animationExports as __moduleExports };\nexport default /*@__PURE__*/getDefaultExportFromCjs(animationExports);"],"names":[],"mappings":";;;;;;;;;;;;;;CAAA;CACA,CAAA,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,MAAM;CACpD;MACI,UAAU,CAAC,MAAM;CACrB;CACA,SAAQ,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI;CAChC,SAAQ,MAAM,oBAAoB,GAAG,MAAM,CAAC,oBAAoB;;CAEhE;UACQ,IAAI,CAAC,IAAI,EAAE;CACnB,aAAY,OAAO,CAAC,KAAK,CAAC,sDAAsD,CAAC;cACrE;CACZ;;CAEA;UACQ,IAAI,CAAC,oBAAoB,EAAE;CACnC,aAAY,OAAO,CAAC,KAAK,CAAC,uGAAuG,CAAC;cACtH;CACZ;;CAEA;CACA,SAAQ,MAAM,aAAa,GAAG,MAAM,CAAC,aAAa,IAAI,IAAI,EAAE,OAAO,EAAE,aAAa,IAAI,IAAI,CAAC,aAAa;;UAEhG,IAAI,aAAa,EAAE;CAC3B;CACA,aAAY,IAAI,OAAO,IAAI,CAAC,cAAc,KAAK,UAAU,EAAE;CAC3D,iBAAgB,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC;CAClD;CACA;;CAEA;CACA;CACA;;CAEA;CACA,SAAQ,MAAM,mBAAmB,GAAG,CAAC,OAAO,KAAK;cACrC,IAAI,CAAC,IAAI,EAAE;;cAEX,MAAM,aAAa,GAAG,OAAO,CAAC,YAAY,CAAC,gBAAgB,CAAC;CACxE,aAAY,MAAM,iBAAiB,GAAG,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,YAAY,CAAC,oBAAoB,CAAC,IAAI,GAAG,CAAC,CAAC;CAC3G,aAAY,MAAM,KAAK,GAAG,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,YAAY,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;cAC7E,MAAM,IAAI,GAAG,OAAO,CAAC,YAAY,CAAC,kBAAkB,CAAC,IAAI,YAAY;cACrE,MAAM,IAAI,GAAG,OAAO,CAAC,YAAY,CAAC,gBAAgB,CAAC,KAAK,MAAM;;CAE1E;CACA,aAAY,IAAI,OAAO,GAAG,oBAAoB,CAAC,aAAa,CAAC;;cAEjD,IAAI,CAAC,OAAO,EAAE;kBACV,OAAO,CAAC,IAAI,CAAC,CAAC,gBAAgB,EAAE,aAAa,CAAC,uCAAuC,CAAC,CAAC;CACvG,iBAAgB,OAAO,GAAG,oBAAoB,CAAC,SAAS,CAAC;CACzD;;cAEY,IAAI,CAAC,OAAO,EAAE;kBACV,OAAO,CAAC,KAAK,CAAC,CAAC,+EAA+E,CAAC,EAAE,OAAO,CAAC;CACzH;kBACgB,OAAO,GAAG,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE;CACnF;;CAEA;cACY,IAAI,QAAQ,GAAG;kBACX,GAAG,OAAO,CAAC,IAAI;CAC/B,iBAAgB,QAAQ,EAAE,iBAAiB,GAAG,IAAI;CAClD,iBAAgB,IAAI,EAAE;eACT;;CAEb;CACA,aAAY,IAAI,KAAK,GAAG,CAAC,EAAE;CAC3B,iBAAgB,QAAQ,CAAC,KAAK,GAAG,KAAK,GAAG,IAAI,CAAC;CAC9C;;CAEA;cACY,IAAI,aAAa,EAAE;kBACf,MAAM,oBAAoB,GAAG;sBACzB,OAAO,EAAE,OAAO;sBAChB,KAAK,EAAE,SAAS;CACpC,qBAAoB,aAAa,EAAE,IAAI,GAAG,qBAAqB,GAAG,qBAAqB;CACvF;mBACiB;;CAEjB,iBAAgB,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;CACnC,qBAAoB,GAAG,QAAQ;CAC/B,qBAAoB,aAAa,EAAE;CACnC,kBAAiB,CAAC;CAClB,cAAa,MAAM;CACnB;CACA,iBAAgB,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC;CAC5C;WACS;;CAET;UACQ,MAAM,kBAAkB,GAAG,MAAM;cAC7B,IAAI,CAAC,IAAI,EAAE;;cAEX,MAAM,gBAAgB,GAAG,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,CAAC;;CAElF,aAAY,KAAK,MAAM,OAAO,IAAI,gBAAgB,EAAE;kBACpC,mBAAmB,CAAC,OAAO,CAAC;CAC5C;WACS;;CAET;CACA,SAAQ,kBAAkB,EAAE;;OAEvB,EAAE,GAAG,CAAC,CAAC;CACZ,EAAC,CAAC;;;;CCtGF,IAAI,gBAAgB,GAAG,gBAAgB,EAAE;AAEzC,iBAAe,aAAa,uBAAuB,CAAC,gBAAgB,CAAC;;;;;;;;"}