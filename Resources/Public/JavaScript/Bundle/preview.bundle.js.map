{"version":3,"file":"preview.bundle.js","sources":["../Core/preview.js"],"sourcesContent":["// Verwende window.gsap statt Import\n// Die ES6-Imports werden durch globale Variablen ersetzt\n// Wird durch das Rollup-Bundle gelöst\n\n// GSAP Animation Preview\ndocument.addEventListener('DOMContentLoaded', () => {\n  setTimeout(() => {\n    const previewElement = document.querySelector('.ce-preview');\n    const animationSelectField = document.querySelector('[name*=\"[tx_content_gsap_animation_animation]\"]');\n    const durationInputField = document.querySelector('[data-formengine-input-name*=\"[tx_content_gsap_animation_duration]\"]');\n    const durationValueInputField = document.querySelector('[name*=\"[tx_content_gsap_animation_duration]\"]');\n    const gsap = window.gsap;\n\n    console.log('GSAP Preview loaded', typeof gsap, previewElement, animationSelectField);\n\n    if (!gsap) {\n      console.error('GSAP nicht geladen. Bitte GSAP-Bibliothek hinzufügen.');\n      return;\n    }\n\n    let defaultPreviewDuration = 800;\n    const defaultPreviewDelay = 1000;\n    let defaultInterval = null;\n\n    function playGSAPPreview() {\n      const animType = animationSelectField?.value || 'fade-up';\n      console.log('playGSAPPreview called', animType, previewElement);\n      if (!previewElement || typeof gsap === 'undefined') return;\n      gsap.set(previewElement, { clearProps: \"all\" });\n\n      const fromVars = { opacity: 0 };\n      const toVars = { opacity: 1, duration: defaultPreviewDuration / 1000 };\n\n      switch (animType) {\n        case 'fade-up': fromVars.y = 50; toVars.y = 0; break;\n        case 'fade-down': fromVars.y = -50; toVars.y = 0; break;\n        case 'fade-left': fromVars.x = 50; toVars.x = 0; break;\n        case 'fade-right': fromVars.x = -50; toVars.x = 0; break;\n        case 'fade-up-right': fromVars.y = 50; fromVars.x = -50; toVars.y = 0; toVars.x = 0; break;\n        case 'fade-up-left': fromVars.y = 50; fromVars.x = 50; toVars.y = 0; toVars.x = 0; break;\n        case 'fade-down-right': fromVars.y = -50; fromVars.x = -50; toVars.y = 0; toVars.x = 0; break;\n        case 'fade-down-left': fromVars.y = -50; fromVars.x = 50; toVars.y = 0; toVars.x = 0; break;\n        case 'flip-up': fromVars.rotationX = 90; fromVars.transformPerspective = 1000; toVars.rotationX = 0; toVars.transformPerspective = 1000; break;\n        case 'flip-down': fromVars.rotationX = -90; fromVars.transformPerspective = 1000; toVars.rotationX = 0; toVars.transformPerspective = 1000; break;\n        case 'flip-left': fromVars.rotationY = -90; fromVars.transformPerspective = 1000; toVars.rotationY = 0; toVars.transformPerspective = 1000; break;\n        case 'flip-right': fromVars.rotationY = 90; fromVars.transformPerspective = 1000; toVars.rotationY = 0; toVars.transformPerspective = 1000; break;\n        case 'slide-up': fromVars.y = 100; toVars.y = 0; break;\n        case 'slide-down': fromVars.y = -100; toVars.y = 0; break;\n        case 'slide-left': fromVars.x = 100; toVars.x = 0; break;\n        case 'slide-right': fromVars.x = -100; toVars.x = 0; break;\n        case 'zoom-in': fromVars.scale = 0.5; toVars.scale = 1; break;\n        case 'zoom-in-up': fromVars.scale = 0.5; fromVars.y = 100; toVars.scale = 1; toVars.y = 0; break;\n        case 'zoom-in-down': fromVars.scale = 0.5; fromVars.y = -100; toVars.scale = 1; toVars.y = 0; break;\n        case 'zoom-in-left': fromVars.scale = 0.5; fromVars.x = 100; toVars.scale = 1; toVars.x = 0; break;\n        case 'zoom-in-right': fromVars.scale = 0.5; fromVars.x = -100; toVars.scale = 1; toVars.x = 0; break;\n        case 'zoom-out': fromVars.scale = 1.5; toVars.scale = 1; break;\n        case 'zoom-out-up': fromVars.scale = 1.5; fromVars.y = 100; toVars.scale = 1; toVars.y = 0; break;\n        case 'zoom-out-down': fromVars.scale = 1.5; fromVars.y = -100; toVars.scale = 1; toVars.y = 0; break;\n        case 'zoom-out-left': fromVars.scale = 1.5; fromVars.x = 100; toVars.scale = 1; toVars.x = 0; break;\n        case 'zoom-out-right': fromVars.scale = 1.5; fromVars.x = -100; toVars.scale = 1; toVars.x = 0; break;\n        default: fromVars.y = 30; toVars.y = 0;\n      }\n\n      gsap.set(previewElement, fromVars);\n      gsap.to(previewElement, {\n        ...toVars,\n        onComplete: () => {\n          setTimeout(() => {\n            gsap.to(previewElement, { opacity: 0, y: 30, duration: 0.3 });\n          }, defaultPreviewDelay);\n        }\n      });\n    }\n\n    function startPreviewLoop() {\n      if (defaultInterval) clearInterval(defaultInterval);\n      playGSAPPreview();\n      defaultInterval = setInterval(playGSAPPreview, defaultPreviewDuration + defaultPreviewDelay + 300);\n    }\n\n    function handleAnimationChange(event) {\n      console.log('Animation dropdown changed');\n      startPreviewLoop();\n    }\n\n    function handleDurationChange(event) {\n      defaultPreviewDuration = Number.parseInt(event.target.value);\n      startPreviewLoop();\n    }\n\n    function initialize() {\n      console.log('GSAP Preview initialize');\n      if (previewElement) {\n        previewElement.classList.add('gsap-preview');\n        startPreviewLoop();\n      }\n      if (animationSelectField) {\n        animationSelectField.addEventListener('change', handleAnimationChange);\n      }\n      if (durationInputField && durationValueInputField) {\n        durationInputField.addEventListener('change', handleDurationChange);\n        defaultPreviewDuration = Number.parseInt(durationValueInputField.value);\n      }\n    }\n\n    initialize();\n  }, 100); // Kurze Verzögerung für die Initialisierung\n});\n"],"names":[],"mappings":";;;EAAA;EACA;EACA;;EAEA;EACA,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,MAAM;EACpD,EAAE,UAAU,CAAC,MAAM;EACnB,IAAI,MAAM,cAAc,GAAG,QAAQ,CAAC,aAAa,CAAC,aAAa,CAAC;EAChE,IAAI,MAAM,oBAAoB,GAAG,QAAQ,CAAC,aAAa,CAAC,6CAA6C,CAAC;EACtG,IAAI,MAAM,kBAAkB,GAAG,QAAQ,CAAC,aAAa,CAAC,kEAAkE,CAAC;EACzH,IAAI,MAAM,uBAAuB,GAAG,QAAQ,CAAC,aAAa,CAAC,4CAA4C,CAAC;EACxG,IAAI,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI;;EAE5B,IAAI,OAAO,CAAC,GAAG,CAAC,qBAAqB,EAAE,OAAO,IAAI,EAAE,cAAc,EAAE,oBAAoB,CAAC;;EAEzF,IAAI,IAAI,CAAC,IAAI,EAAE;EACf,MAAM,OAAO,CAAC,KAAK,CAAC,uDAAuD,CAAC;EAC5E,MAAM;EACN;;EAEA,IAAI,IAAI,sBAAsB,GAAG,GAAG;EACpC,IAAI,MAAM,mBAAmB,GAAG,IAAI;EACpC,IAAI,IAAI,eAAe,GAAG,IAAI;;EAE9B,IAAI,SAAS,eAAe,GAAG;EAC/B,MAAM,MAAM,QAAQ,GAAG,oBAAoB,EAAE,KAAK,IAAI,SAAS;EAC/D,MAAM,OAAO,CAAC,GAAG,CAAC,wBAAwB,EAAE,QAAQ,EAAE,cAAc,CAAC;EACrE,MAAM,IAAI,CAAC,cAAc,IAAI,OAAO,IAAI,KAAK,WAAW,EAAE;EAC1D,MAAM,IAAI,CAAC,GAAG,CAAC,cAAc,EAAE,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC;;EAErD,MAAM,MAAM,QAAQ,GAAG,EAAE,OAAO,EAAE,CAAC,EAAE;EACrC,MAAM,MAAM,MAAM,GAAG,EAAE,OAAO,EAAE,CAAC,EAAE,QAAQ,EAAE,sBAAsB,GAAG,IAAI,EAAE;;EAE5E,MAAM,QAAQ,QAAQ;EACtB,QAAQ,KAAK,SAAS,EAAE,QAAQ,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EACvD,QAAQ,KAAK,WAAW,EAAE,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EAC1D,QAAQ,KAAK,WAAW,EAAE,QAAQ,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EACzD,QAAQ,KAAK,YAAY,EAAE,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EAC3D,QAAQ,KAAK,eAAe,EAAE,QAAQ,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EAC7F,QAAQ,KAAK,cAAc,EAAE,QAAQ,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EAC3F,QAAQ,KAAK,iBAAiB,EAAE,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EAChG,QAAQ,KAAK,gBAAgB,EAAE,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EAC9F,QAAQ,KAAK,SAAS,EAAE,QAAQ,CAAC,SAAS,GAAG,EAAE,CAAC,CAAC,QAAQ,CAAC,oBAAoB,GAAG,IAAI,CAAC,CAAC,MAAM,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,oBAAoB,GAAG,IAAI,CAAC,CAAC;EACjJ,QAAQ,KAAK,WAAW,EAAE,QAAQ,CAAC,SAAS,GAAG,GAAG,CAAC,CAAC,QAAQ,CAAC,oBAAoB,GAAG,IAAI,CAAC,CAAC,MAAM,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,oBAAoB,GAAG,IAAI,CAAC,CAAC;EACpJ,QAAQ,KAAK,WAAW,EAAE,QAAQ,CAAC,SAAS,GAAG,GAAG,CAAC,CAAC,QAAQ,CAAC,oBAAoB,GAAG,IAAI,CAAC,CAAC,MAAM,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,oBAAoB,GAAG,IAAI,CAAC,CAAC;EACpJ,QAAQ,KAAK,YAAY,EAAE,QAAQ,CAAC,SAAS,GAAG,EAAE,CAAC,CAAC,QAAQ,CAAC,oBAAoB,GAAG,IAAI,CAAC,CAAC,MAAM,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,oBAAoB,GAAG,IAAI,CAAC,CAAC;EACpJ,QAAQ,KAAK,UAAU,EAAE,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EACzD,QAAQ,KAAK,YAAY,EAAE,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EAC5D,QAAQ,KAAK,YAAY,EAAE,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EAC3D,QAAQ,KAAK,aAAa,EAAE,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EAC7D,QAAQ,KAAK,SAAS,EAAE,QAAQ,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;EAChE,QAAQ,KAAK,YAAY,EAAE,QAAQ,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EACnG,QAAQ,KAAK,cAAc,EAAE,QAAQ,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EACtG,QAAQ,KAAK,cAAc,EAAE,QAAQ,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EACrG,QAAQ,KAAK,eAAe,EAAE,QAAQ,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EACvG,QAAQ,KAAK,UAAU,EAAE,QAAQ,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;EACjE,QAAQ,KAAK,aAAa,EAAE,QAAQ,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EACpG,QAAQ,KAAK,eAAe,EAAE,QAAQ,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EACvG,QAAQ,KAAK,eAAe,EAAE,QAAQ,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EACtG,QAAQ,KAAK,gBAAgB,EAAE,QAAQ,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EACxG,QAAQ,SAAS,QAAQ,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC;EAC9C;;EAEA,MAAM,IAAI,CAAC,GAAG,CAAC,cAAc,EAAE,QAAQ,CAAC;EACxC,MAAM,IAAI,CAAC,EAAE,CAAC,cAAc,EAAE;EAC9B,QAAQ,GAAG,MAAM;EACjB,QAAQ,UAAU,EAAE,MAAM;EAC1B,UAAU,UAAU,CAAC,MAAM;EAC3B,YAAY,IAAI,CAAC,EAAE,CAAC,cAAc,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,QAAQ,EAAE,GAAG,EAAE,CAAC;EACzE,WAAW,EAAE,mBAAmB,CAAC;EACjC;EACA,OAAO,CAAC;EACR;;EAEA,IAAI,SAAS,gBAAgB,GAAG;EAChC,MAAM,IAAI,eAAe,EAAE,aAAa,CAAC,eAAe,CAAC;EACzD,MAAM,eAAe,EAAE;EACvB,MAAM,eAAe,GAAG,WAAW,CAAC,eAAe,EAAE,sBAAsB,GAAG,mBAAmB,GAAG,GAAG,CAAC;EACxG;;EAEA,IAAI,SAAS,qBAAqB,CAAC,KAAK,EAAE;EAC1C,MAAM,OAAO,CAAC,GAAG,CAAC,4BAA4B,CAAC;EAC/C,MAAM,gBAAgB,EAAE;EACxB;;EAEA,IAAI,SAAS,oBAAoB,CAAC,KAAK,EAAE;EACzC,MAAM,sBAAsB,GAAG,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC;EAClE,MAAM,gBAAgB,EAAE;EACxB;;EAEA,IAAI,SAAS,UAAU,GAAG;EAC1B,MAAM,OAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC;EAC5C,MAAM,IAAI,cAAc,EAAE;EAC1B,QAAQ,cAAc,CAAC,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC;EACpD,QAAQ,gBAAgB,EAAE;EAC1B;EACA,MAAM,IAAI,oBAAoB,EAAE;EAChC,QAAQ,oBAAoB,CAAC,gBAAgB,CAAC,QAAQ,EAAE,qBAAqB,CAAC;EAC9E;EACA,MAAM,IAAI,kBAAkB,IAAI,uBAAuB,EAAE;EACzD,QAAQ,kBAAkB,CAAC,gBAAgB,CAAC,QAAQ,EAAE,oBAAoB,CAAC;EAC3E,QAAQ,sBAAsB,GAAG,MAAM,CAAC,QAAQ,CAAC,uBAAuB,CAAC,KAAK,CAAC;EAC/E;EACA;;EAEA,IAAI,UAAU,EAAE;EAChB,GAAG,EAAE,GAAG,CAAC,CAAC;EACV,CAAC,CAAC;;;;;;"}